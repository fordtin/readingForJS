<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Document</title>
<style type="text/CSS">

</style>
</head>
<body>
<!-- 	
	// 脚本产生冲突，怎么避免？————对全局变量进行有效控制，切忌全局变量泛滥。
	// 一种最简单也是最有效的方法就是用匿名函数将脚本包起来，让变量的作用域控制在匿名函数之内
	// 在这个匿名function里面的变量，作用域就不再是window，而是局限在函数内部
	// 每段脚本包含在不同的匿名函数中，可避免冲突，如果不同脚本之间需要通信怎么办？
	比如需要在网页中加入功能C，A与B之间无关联，但A与C之间有关联，需要用到功能A脚本中的变量b。		最简单的方法————————将功能C的脚本直接写到匿名函数中，这样功能C的脚本就可以访问到变量b
	写功能的是工程师丙呢？————见下文
	工程师丙选择：
	1.阅读和理解工程师甲写的关于功能A的程序，小心避开冲突
	2.不在工程师甲的匿名函数中写程序，写一个自己的匿名函数。（功能A非常复杂，它与功能C需要关联的地方不多）——————引出了新问题，变量b不在同一个作用域，A/C间无法通信。
	那么怎么解决这个问题呢？
	在window作用域下定义一个全局变量，将其当做一个桥梁，完成匿名函数之间的通信——————代码见下文
	但是下面的代码存在一些问题，如果功能C还需要功能A中的变量a呢？难道再增加一个全局变量str2？那如果n个呢？写n个吗？
	但是这样做就违背了我们使用匿名函数的初衷，所以应该严格控制全局变量的函数！————————改进后代码见下文
	使用普通的变量作为全局变量，扩展性会非常差，所以我们可以使用一个{}对象类型的变量作为全局变量。存在问题：新增功能D，B和D之间通信，无意间会覆盖掉A中设置的GLOBAL.str，导致功能C出错，如下文
	在这使用了命名空间来解决这个问题，命名空间是一个特殊的前缀，在JavaScript中，其实是通过一个{}对象来实现的。不同的匿名函数中，根据功能声明一个不同的命名空间，然后每个匿名函数GLOABL对象的属性都不直接挂在GLOBAL对象上，而是直接挂在此匿名函数的命名空间下

	现在我们只用考虑命名空间不会冲突就可以了，属性名可以任意设置而不用担心会和哪个匿名函数里的某个GLOBAL属性冲突，一般情况下，命名空间的数量不会特别多，避免命名空间冲突相对而言比较容易
 -->



<script>
	var GLOBAL = {};
</script>
<script>
(function() {
	// 功能A 工程师甲
	var a = 123,b = 'hello world';
	GLOBAL.A = {};
	GLOBAL.A.str2 = a;
	GLOBAL.A.str = b;
})();

</script>
<script>  
(function() {
	// 功能B 工程师乙
	var a, c = 'abc';
	GLOBAL.B = {};
	GLOBAL.B.str = c;
})();
</script>
<script>
(function() {
	// 功能C 工程师丙
	var a = GLOBAL.A.str2, b = GLOBAL.A.str;
	var d = "ddd";
	d = b + "," + d + a;
})();
</script>
<script>
(function() {
	var test = GLOBAL.B.str;
	alert(test);
})();
</script>






</body>
</html>